<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>Klook Search and Navigation</title>
<link rel="icon" href="https://res.klook.com/image/upload/v1630595837/new_admin_layout/module_icons/team_hotel_ill.svg" type="image/svg+xml">
<style>
    body {
        font-family: 'Roboto', Arial, sans-serif;
        margin: 0;
        padding: 0;
        background: linear-gradient(135deg, #E3F2FD 0%, #ffffff 100%);
        background-size: cover;
        display: flex;
        flex-direction: column; /* 改为列布局 */
        align-items: center;
        min-height: 100vh;
        background-attachment: fixed;
        background-repeat: no-repeat;
    }
    .shortcut-icons-container {
        width: 800px; /* 设置宽度 */
        display: flex;
        justify-content: center;
        padding: 20px 0;
        margin-top: 50px; /* 与顶部的距离 */
        background-color: rgba(255,255,255,0.5); /* 可选：添加背景色 */
        border-radius: 10px; /* 可选：圆角 */
        backdrop-filter: blur(10px); /* 可选：模糊效果 */
    }
    .shortcut-icons {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 40px;
        max-width: 800px; /* 限制最大宽度来控制每行图标数量 */
    }
    /* 媒体查询示例 */
    @media (max-width: 1200px) {
        .shortcut-icons {
            max-width: 1000px; /* 调整为更小的宽度以适应屏幕尺寸 */
        }
    }
    .break {
        flex-basis: 100%; /* 强制换行 */
        height: 0; /* 保持元素高度为0，不影响布局 */
    }
    .icon-box {
        width: 100px;
        height: 100px;
        background-color: #ffffff;
        border-radius: 15px;
        transition: background-color 0.3s;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer; /* 明确表示可点击 */
    }
    .icon-box:hover {
        background-color: #E8F5FE;
    }
    .icon-box img {
        width: 60px;
        height: 60px;
    }
    .icon-label {
        font-size: 15px;
        margin-top: 5px; /* 调整图标和文字之间的间距 */
        text-align: center; /* 确保文字居中 */
    }
    .wrapper {
        width: 50%; /* 调整主体宽度 */
        text-align: center;
        padding: 20px;
        background-color: rgba(255,255,255,0.5);
        border-radius: 10px;
        backdrop-filter: blur(10px);
        margin-top: 50px; /* 确保元素之间有空间 */
    }
    .search-container {
        margin-bottom: 50px;
    }
    .search-box input[type="text"] {
        padding: 10px 10px 10px 40px;
        width: calc(60% - 40px); /* 调整宽度以适应图标 */
        height: 36px; /* 与Google的高度相匹配 */
        border: 1px solid #ccc;
        border-radius: 20px;
        font-size: 16px; /* 与Google的字号相匹配 */
        background: url('image/Magnifier.svg') no-repeat 10px center / 20px 20px, #FFF;
        transition: all 0.3s ease;
    }
    .search-box input[type="text"]:focus {
        box-shadow: 0 0 8px 0 rgba(0,0,0,0.2);
    }
    .input-container, .button-container {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-bottom: 20px;
    }
    .input-container input[type="text"], .button-container button {
        width: calc(18% - 20px); /* 调整为每行3项，考虑间隔 */
    }
    .input-container input[type="text"] {
        padding: 10px;
        height: 20px;
        border: 1px solid #ccc;
        border-radius: 5px;
        font-size: 16px;
        background-color: #ffffffc5;
    }
    button {
        padding: 10px 20px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        transition: background-color 0.3s ease;
    }
    button:hover {
        background-color: #0056b3;
    }
</style>
</head>
<body>

<div class="shortcut-icons-container">
    <div class="shortcut-icons">
        <!-- 示例图标 -->
        <div style="display: inline-block; text-align: center;"> <!-- 为图标和文字添加容器 -->
            <a href="https://admin.klook.com/agent/api/slackbot" class="icon-box" target="_blank">
                <img src="image/admin_robot.svg" alt="SlackBot">
            </a>
            <div class="icon-label">SlackBot</div>
        </div>
        <div style="display: inline-block; text-align: center;"> <!-- 为图标和文字添加容器 -->
            <a href="https://admin.klook.com/act/activity/list" class="icon-box" target="_blank">
                <img src="image/admin_activity.svg" alt="TTD活动列表">
            </a>
            <div class="icon-label">TTD活动列表</div>
        </div>
        <div style="display: inline-block; text-align: center;"> <!-- 为图标和文字添加容器 -->
            <a href="https://admin.klook.com/storage/realtime/inventory/summary" class="icon-box" target="_blank">
                <img src="image/admin_stock.svg" alt="库存查看">
            </a>
            <div class="icon-label">库存查看</div>
        </div>
        <div style="display: inline-block; text-align: center;"> <!-- 为图标和文字添加容器 -->
            <a href="https://admin.klook.com/order/search" class="icon-box" target="_blank">
                <img src="image/admin_order.svg" alt="admin订单搜索">
            </a>
            <div class="icon-label">admin订单搜索</div>
        </div>
        <div style="display: inline-block; text-align: center;"> <!-- 为图标和文字添加容器 -->
            <a href="https://docs.google.com/spreadsheets/d/10CTOQDjBWqU8XA2LyJBGP7N9UBPpmHquWEJy6W7KzWM/edit#gid=379021134" class="icon-box" target="_blank">
                <img src="image/admin_excel.svg" alt="部门总表">
            </a>
            <div class="icon-label">部门总表</div>
        </div>
        <div style="display: inline-block; text-align: center;"> <!-- 为图标和文字添加容器 -->
            <a href="https://www.dianping.com/overseas/openplatform/mt/onoff" class="icon-box" target="_blank">
                <img src="image/xmd_robot.svg" alt="美团开放平台">
            </a>
            <div class="icon-label">美团开放平台</div>
        </div>
        <div style="display: inline-block; text-align: center;"> <!-- 为图标和文字添加容器 -->
            <a href="https://eo.dianping.com/epassport/goodmanage/spulist" class="icon-box" target="_blank">
                <img src="image/xmd_good.svg" alt="美团商品管理">
            </a>
            <div class="icon-label">美团商品管理</div>
        </div>
        <div style="display: inline-block; text-align: center;"> <!-- 为图标和文字添加容器 -->
            <a href="https://eo.dianping.com/epassport/ordermanage/orderlist" class="icon-box" target="_blank">
                <img src="image/xmd_order.svg" alt="美团订单管理">
            </a>
            <div class="icon-label">美团订单管理</div>
        </div>
        <div style="display: inline-block; text-align: center;"> <!-- 为图标和文字添加容器 -->
            <a href="https://klook.klktech.com/zh-CN/bookings" class="icon-box" target="_blank">
                <img src="image/amp_order.svg" alt="AMP订单搜索">
            </a>
            <div class="icon-label">AMP订单搜索</div>
        </div>
        <div style="display: inline-block; text-align: center;"> <!-- 为图标和文字添加容器 -->
            <a href="https://docs.google.com/spreadsheets/d/1ZrpOSxJVBLKcla9TdK8oH75nGQQEOKxXV7MPgmv82b8/edit#gid=0" class="icon-box" target="_blank">
                <img src="image/xmd_excel.svg" alt="美团表格">
            </a>
            <div class="icon-label">美团表格</div>
        </div>
        <div class="break"></div>
        <!-- 根据需要重复其他图标 -->
    </div>
</div>


<div class="wrapper">
    <div class="search-container search-box">
        <input type="text" id="searchInput" placeholder="输入关键词搜索..." onkeypress="searchKeyPress(event)">
    </div>

    <div class="input-container">
        <input type="text" id="aidInput" placeholder="AID" oninput="validateAndMoveInput(this, ['pidInput', 'skuIdInput'])">
        <input type="text" id="pidInput" placeholder="PID" oninput="validateAndMoveInput(this, ['skuIdInput'])">
        <input type="text" id="skuIdInput" placeholder="SKU ID" oninput="validateInput(this)">
    </div>

    <div class="button-container">
        <button onclick="gotoAMPPage()">AMP商品页</button>
        <button onclick="gotoBookingPage()">预定页</button>
        <button onclick="gotoPricePage()">价格页</button>
    </div>
</div>

<script>
    function search() {
        var keyword = document.getElementById("searchInput").value;
        window.location.href = `https://klook.klktech.com/zh-CN/search?keyword=${encodeURIComponent(keyword)}`;
    }
    
    function searchKeyPress(event) {
        if (event.key === "Enter") {
            search();
        }
    }
    
    function validateAndMoveInput(input, nextInputIds) {
        let parts = input.value.split(/\s+/);
        if (parts.length > 1) {
            input.value = parts[0].replace(/\D/g, ''); // Keep only digits in the current input
            parts.slice(1).forEach((part, index) => {
                if (index < nextInputIds.length) {
                    let nextInput = document.getElementById(nextInputIds[index]);
                    nextInput.value = part.replace(/\D/g, ''); // Fill the next inputs with digits only
                }
            });
        } else {
            input.value = input.value.replace(/\D/g, ''); // If no spaces, just keep digits
        }
        // Handle enter key press to focus on the first button
        input.addEventListener('keydown', function(e) {
            if (e.key === "Enter") {
                e.preventDefault(); // Prevent default Enter key behavior
                document.querySelector('.button-container button').focus(); // Focus on the first button
            }
        });
    }
    
    function validateInput(input) {
        input.value = input.value.replace(/\D/g, '');
        // Similar behavior for SKU ID input
        input.addEventListener('keydown', function(e) {
            if (e.key === "Enter") {
                e.preventDefault();
                document.querySelector('.button-container button').focus();
            }
        });
    }
    
    document.querySelectorAll('.button-container button').forEach((button, index, buttons) => {
        button.addEventListener('keydown', function(e) {
            if (e.key === "ArrowRight") {
                e.preventDefault(); // Prevent default arrow key behavior
                // Focus on the next button, or loop back to the first button
                buttons[(index + 1) % buttons.length].focus();
            } else if (e.key === "ArrowLeft") {
                e.preventDefault();
                // Focus on the previous button, or loop back to the last button
                buttons[(index - 1 + buttons.length) % buttons.length].focus();
            } else if (e.key === "Enter") {
                e.preventDefault();
                button.click(); // Trigger the button click
            }
        });
    });
    
    function gotoAMPPage() {
        var aid = document.getElementById("aidInput").value;
        if (aid) {
            window.location.href = `https://klook.klktech.com/zh-CN/activity/${aid}`;
        } else {
            alert("请输入AID");
        }
    }
    
    function gotoBookingPage() {
        var pid = document.getElementById("pidInput").value;
        var skuId = document.getElementById("skuIdInput").value;
        if (pid && skuId) {
            window.location.href = `https://klook.klktech.com/zh-CN/pay_ticket/${pid}/${skuId}`;
        } else {
            alert("请输入PID和SKU ID");
        }
    }
    
    function gotoPricePage() {
        var aid = document.getElementById("aidInput").value;
        var pid = document.getElementById("pidInput").value;
        if (aid && !pid) {
            window.location.href = `https://admin.klook.com/act/activity/basic/${aid}?edit_status=1&is_am=true&ref=&lang=zh_CN`;
        } else if (aid && pid) {
            window.location.href = `https://admin.klook.com/mspa/experiencesadmincommon/act/package/schedule/${aid}?iframe=true&edit_status=1&ref=&lang=zh_CN&page_from=admin&package_type=-1&package_id=${pid}`;
        } else {
            alert("请至少输入AID");
        }
    }
    </script>

</body>
</html>
